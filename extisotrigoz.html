<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      lang="en">
  <head>
    <meta name="generator" content="HTML-Kit Tools HTML Tidy plugin" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" href="css/global.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
	  <script src="src/slides.jquery.js"></script>
	  <script>
	    $(function(){
			$('#slides').slides({
				preload: false,
				preloadImage: '',
				play: 3000,
				pause:500,			
				hoverPause: true,
				animationStart: function(current){
					$('.caption').animate({
						bottom:-35
					},10);
					if (window.console && console.log) {
						// example return of current slide number
						console.log('animationStart on slide: ', current);
					};
				},
				animationComplete: function(current){
					$('.caption').animate({
						bottom:0
					},1000);
					if (window.console && console.log) {
						// example return of current slide number
						console.log('animationComplete on slide: ', current);
					};
				},
				slidesLoaded: function(){
					$('.caption').animate({
						bottom:0
					},100);
				}
			});
		});
  </script>
	<script language="Javascript">

    //
    // This method Gets URL Parameters (GUP)
    //
    function gup( name )
    {
    var regexS = "[\\?&]"+name+"=([^&#]*)";
    var regex = new RegExp( regexS );
    var tmpURL = window.location.href;
    var results = regex.exec( tmpURL );
    if( results == null )
    return "";
    else
    return results[1];
    }

    //
    // This method decodes the query parameters that were URL-encoded
    //
    function decode(strToDecode)
    {
    var encoded = strToDecode;
    return unescape(encoded.replace(/\+/g,  " "));
    }

    //
    // Set parameters
    //
    var feedback0 =new Array();
    var feedback1 =new Array();

    var home=decode(gup('imageurl'));
    var rhome="http://marconioz.github.com/isotrigoz/turk/"
	  var ehome="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/odd/"
    var rn=1;
    var ct=5;
    var str="";


    function settexture()
    {
    try
    {
    document.getElementById('texture').src=home +"t"+rn+ ".png"
    }
    catch(err1)
    {
    try
    {
    document.getElementById('texture').src=home +"t"+rn+ ".png"
    }
    catch(err2)
    {
    txt="There was an error loading this texture.\n\n";
    txt+="Error description: " + err2.message + "\n\n";
    txt+="Click OK to continue.\n\n";
    alert(txt);
    }
    }
    }

    function setmask()
    {
    try
    {
    document.getElementById('texture').src=rhome +"t0.png"
    }
    catch(err1)
    {
    try
    {
    document.getElementById('texture').src=rhome +"t0.png"
    }
    catch(err2)
    {
    txt="There was an error on this page.\n\n";
    txt+="Error description: " + err2.message + "\n\n";
    txt+="Click OK to continue.\n\n";
    alert(txt);
    }
    }
    }


    function timedTexture()
    {
    rn=Math.ceil(200*Math.random());
    var t1=setTimeout('settexture(rn)',300);
    var t2=setTimeout('setmask(rn)',2300);
    easytiger();
    document.getElementById('togo').value= ct;
    }

    function easytiger()
    {
    document.getElementById('readyButton').disabled = true;
    document.getElementById('readyButton').value = "Please select a location";
    enableit();
    }

    function gotiger(){
    document.getElementById('readyButton').disabled = false;
    document.getElementById('readyButton').value ="Ready?";
    }


    function ipick(choice)
    {str=String(choice);

    document.getElementById(str).name="cat" +ct;
    document.getElementById('feedback1').value=home;

    //document.getElementById('feedback2').value=document.getElementById(str).value;
    //document.getElementById('feedback3').value="t"+rn+".jpg";

    feedback0.push(document.getElementById(str).value);
    feedback1.push("t"+rn+".jpg");

    if(ct==0){
    disableit();
    document.getElementById('readyButton').disabled==true;
    document.getElementById('readyButton').value ="Done! click submit";
    document.getElementById('submitButton').disabled =false;
    document.getElementById('submitButton').value = "Submit";


    document.getElementById('feed0').value=feedback0;
    document.getElementById('feed1').value=feedback1;
    }else{
    document.getElementById('submitButton').disabled = true;
    document.getElementById('submitButton').value = "Complete before submitting.";
    ct=ct-1;

    disableit();
    var t3=setTimeout('cleanit()',1000);
    gotiger();
    }
    }


    function cleanit()
    {
    for(i=0;i<=4;i++){
    if(document.getElementById("R"+i).checked){document.getElementById("R"+i).checked=false}
    }
    }

    function disableit(){
    for(i=0;i<=4;i++){document.getElementById("R"+i).disabled=true}
    }

    function enableit(){
    for(i=0;i<=4;i++){document.getElementById("R"+i).disabled=false}
    }

   </script>
	 	<script type="text/javascript">
   function hideshow(which){
   if (!document.getElementById)
   return
   if (which.style.display=="block")
   which.style.display="none"
   else
   which.style.display="block"
   }
   </script>
  <title>Tag-a-Texture</title>
  </head>
  <body>
	

<h4 align="center">
Where is the oddball strip in an image?</h4><br />
<h4 align="center"><a href="javascript:hideshow(document.getElementById('container'))">click here to hide/show Instructions</a></h4><br />
<div id="container" style="display: block">
<h4>
Getting used to the task first; Have a look at this slide show
</h4>
This HIT is an easy perception task that seems to reveal very important detail 
of how the brain and particularly the visual system works. 
We have done this a lot in our labs among ourselves and with volunteers. 
Now we want to validate our findings with a large pool of samples. 
So your help is very appreciatted. Here are some samples of what you will see:<br />
<div id="example">
			<img src="img/new-ribbon.png" width="112" height="112" alt="New Ribbon" id="ribbon">
			<div id="slides">
				<div class="slides_container">
					<div class="slide">
					
						<img id="t0" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t0.png"  width="270" height="270" alt="Slide 1"></a>
						<div class="caption" style="bottom:0">
							<p>Right structured band on random background</p>
						</div>
					</div>
					<div class="slide">
					
						<img id="t1" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t1.png"  width="270" height="270" alt="Slide 2"></a>
						<div class="caption">
							<p>Right random band on structured background</p>
						</div>
					</div>
					<div class="slide">
						
						<img  id="t2" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t2.png"  width="270" height="270" alt="Slide 3"></a>
						<div class="caption">
							<p>Left structured band on random background </p>
						</div>
					</div>
					<div class="slide">
						
						<img  id="t3" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t3.png"  width="270" height="270" alt="Slide 4"></a>
						<div class="caption">
							<p>Left random band on structured background</p>
						</div>
					</div>
					<div class="slide">
						
						<img  id="t4" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t4.png"  width="270" height="270" alt="Slide 5"></a>
						<div class="caption">
							<p>Top structured band on random background</p>
						</div>
					</div>
					<div class="slide">
						
						<img  id="t5" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t5.png"  width="270" height="270" alt="Slide 6"></a>
						<div class="caption">
							<p>Top random band on structured background</p>
						</div>
					</div>
					<div class="slide">
						
						<img  id="t6" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t6.png"  width="270" height="270" alt="Slide 7"></a>
						<div class="caption">
							<p>Bottom structured band on random background</p>
						</div>
						</div>
					<div class="slide" >
					
						<img id="t7" src="http://marconioz.github.com/isotrigoz/turk/CHUBB/isotrigons/Box/even/t7.png"  width="270" height="270" alt="Slide 8"></a>
						<div class="caption">
							<p>Bottom random band on structured background</p>
						</div>	
					</div>

				</div>
				<a href="#" class="prev"><img src="img/arrow-prev.png" width="24" height="43" alt="Arrow Prev"></a>
				<a href="#" class="next"><img src="img/arrow-next.png" width="24" height="43" alt="Arrow Next"></a>
			</div>
			<img src="img/example-frame.png"  height="241" alt="Example Frame" id="frame">
		</div>			
 			 Textures may be composed of a structured band over a random background or the other way around. 
			 Your job is just to find the location of the band. You can pause the slides by rovering the mouse over a slide, 
			 and navigate back and forth with the controllers. <br/>  
			 
			 <h4> 
			 Lets start the task <br />
			 After you click the Ready? button bellow, a texture will
             appear for about 2 seconds somewhere inside this
              image bellow, after that the original random image
              will come back. The texture may be either random or
              structured. If it looks structured (odd or strange)
              click on the button corresponding to its location, if
              nothing changes much click on none. Submit only after
              you finish a batch of 5.<br />
</div>
		
	  <div id="bag">
    <form id="mturk_form"
          method="post"
          action=
          "http://workersandbox.mturk.com/mturk/externalSubmit"
          name="mturk_form">
      <input id="assignmentId"
            name="assignmentId"
            value=""
            type="hidden" />
      <table align="center">
<tr>
<td></td>
</tr>

        <tbody>
          <tr>
            <td >	
			</tr>
			<tr>			
			 <td align="left" >			
			</td>
		 <td align="right">
		 </td>			 
			 <td><br />
			</td>			
			</tr>			
			<tr>
			 <td >	
			 </td>
			</tr>			 
			<tr>
			 <td colspan="3" align="left">
			 
			</td>
          </tr>
          <tr>
            <td width="28%">
              Click here when you ready.<br />
              <input id="readyButton"
                  type="button"
                  value="Ready?"
                  onclick="timedTexture()" /><br />
				You've got   
              <input id="togo"
                  name="togo"
                  value=""
                  type="text" /> to go<br />
				<p><br />
                </p>	
				<p><br />
                </p>
				<p><br />
                </p>
								If you miss one texture use the following button, 
                Don't abuse this option or the HIT will expire early...				
            
			
			<input id="R4"
                  name="cat"
                  onclick="ipick(this.id);ct=ct+1;"
                  value="Duh,missed!"
                  type="Button"
			      align="middle" />			
				  
				  
				  
				  
            </td>
            <td>
			<table border="0">
			  <tr>
			   <td><br/>
			   </td>
			  <td align="center">
				 <input id="R0"
                  name="cat"
                  onclick="ipick(this.id)"
                  value="Top"
                  type="Button" /><img src="ticonT.png"
                   alt="Smiley face"
                   align="middle"
                   width="32"
                   height="32"/><br />              
			  <br/>
			   </td>
			   <td><br/>
			   </td>			  
			  </tr>
			
			  <tr>			  
			  <td>
			  <input id="R1"
                  name="cat"
                  onclick="ipick(this.id)"
                  value="Left"
                  type="Button" /><img src="ticonL.png"
                   alt="Smiley face"
                   valign="middle"
                   width="32"
                   height="32"/><br />			  
			  <br/>
			   </td>
			   <td> 
			   <img id="texture"
                  alt="random"
                  name="texture" /><br />
			   </td>
			   <td><input id="R2"
                  name="cat"
                  onclick="ipick(this.id)"
                  value="Right"
                  type="Button" />&nbsp; <img src="ticonR.png"
                   alt="Smiley face"
                   align="middle"
                   width="32"
                   height="32" /><br />
				   <br/>
			   </td>
			  </tr>
			
			  <tr>
			  <td><br/>
			   </td>
			  <td align="center">
			  <input id="R3"
                  name="cat"
                  onclick="ipick(this.id)"
                  value="Bottom"
                  type="Button" /><img src="ticonB.png"
                   alt="Smiley face"
                   align="middle"
                   width="32"
                   height="32" /><br />			  
			  <br/>
			   </td>
			   <td><br/>
			   </td>
			  </tr>           
			</table>		
        </td>		
			<td valign="top">
		<p></p>
         <p></p>
            </td>
          </tr>
          <tr>
            <td>
              Click here after you finish the batch<br />
              <input id="submitButton"
                  name="Submit"
                  value="Submit"
                  type="submit" /><br />
            </td>
            <td>
              
            </td>
            <td valign="top"></td>
          </tr>
        </tbody>
      </table>
</div>
			
			<input id="feedback1"
            type="hidden"
            name="TextureFamily"
            value="" /><br />
      <input id="feed0"
            name="feed0"
            value=""
            type="hidden" /> <input id="feed1"
            name="feed1"
            value=""
            type="hidden" />
				Looks like your screen resolution is:<br />
              <input id="screen"
                  name="screen"
                  type="text" /><br />		
						
      <h4>
        At which point these two bars blend best when you squint?
      </h4><img id="chart"
            alt="chart"
            height="133"
            width="868"
            name="chart" />
      <p>
        Blending point: <input type="text"
           name="blending"
           value="not for now" />
      </p>
    </form>
		
		<script language="Javascript">

    var height = screen.height;
    var width = screen.width;
    document.getElementById('screen').value=width + " x " + height;
    document.getElementById('texture').height=width/5;
	  document.getElementById('texture').width=width/5;

    var home=decode(gup('imageurl'));
    document.getElementById('assignmentId').value = gup('assignmentId');

    try{
    document.getElementById('texture').src =  rhome+"t3.png";
    }
    catch(err1){
    try{
    document.getElementById('texture').src =  rhome +"t3.png";
    }
    catch(err2)
    {
    txt="There was an error on this page.\n\n";
    txt+="Error description: " + err2.message + "\n\n";
    txt+="Click OK to continue.\n\n";
    alert(txt);
    }
    };
	</script>
 
<script>
	
 if(!document.getElementById('readyButton').disabled){disableit()}else{enableit()};

    //
    // Check if the worker is PREVIEWING the HIT or if they've ACCEPTED the HIT
    //

      if (gup('assignmentId') == "ASSIGNMENT_ID_NOT_AVAILABLE")
      {
      //If we're previewing, disable the button and give it a helpful message
    document.getElementById('submitButton').disabled = true;
    document.getElementById('submitButton').value = "You must ACCEPT the HIT first.";

    document.getElementById('readyButton').disabled=true;
    document.getElementById('readyButton').value="ACCEPT the HIT to start";

      } else {
         var form = document.getElementById('mturk_form');
          if (document.referrer && ( document.referrer.indexOf('workersandbox') != -1) ) {
          form.action = "http://workersandbox.mturk.com/mturk/externalSubmit";

        }
      }

        
        
        document.getElementById('chart').src = "http://marconioz.github.com/isotrigoz/graychart.png";
        document.getElementById('chart').width=window.innerWidth;
   
    </script>
	

	
	
	
	
  </body>
</html>
